<div class="form-container" [class.bad]="isBadForm">
  <div class="form-container-section">
    <h4>Change Password</h4>
    <form [ngFormModel]="passwordForm" (ngSubmit)="changePassword()">
      <fieldset>
        <div class="form-group">
          <input
            type="password"
            id="password"
            class="form-control"
            ngControl="password"
            #password="ngForm"
            placeholder="Current Password"
            >
          <div *ngIf="password.touched && password.errors">
            <div
            *ngIf="password.errors.required"
            class="text-danger"
            >Please enter your current password
            </div>
            <div
               *ngIf="password.errors.validOldPassword"
               class="text-danger">Current password is incorrect</div>
          </div>
        </div>
        <div class="form-group">
          <input
            type="password"
            id="newPassword"
            class="form-control"
            ngControl="newPassword"
            #newPassword="ngForm"
            placeholder="New Password"
            >
            <div *ngIf="newPassword.touched && newPassword.errors">
              <div
                *ngIf="newPassword.errors.required"
                class="text-danger">
                New password is required</div>
              <div
                *ngIf="newPassword.errors.complexPassword"
                class="text-danger">
                New password should be minimum {{ newPassword.errors.complexPassword.minLength }} characters</div>
            </div>
        </div>
        <div class="form-group">
          <input
            type="password"
            id="confirmPassword"
            class="form-control"
            ngControl="confirmPassword"
            #confirmPassword="ngForm"
            placeholder="Confirm New Password"
            >
          <div
            *ngIf="confirmPassword.touched && !confirmPassword.valid"
            class="text-danger"
            >Please confirm your new password
          </div>
          <div
            *ngIf="confirmPassword.touched && passwordForm.errors && passwordForm.errors.passwordsShouldMatch"
            class="text-danger">
            New passwords do not match</div>
        </div>
      </fieldset>
      <button class="btn btn-primary password-button" type="submit">Change</button>
    </form>
    <a>Forgot password?</a>
  </div>
</div>
